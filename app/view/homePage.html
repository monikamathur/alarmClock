<div class="container-fluid homeMain" >
    <div  id="alarmDiv" ng-if="showAlarm" >
        <div class="overlay">
            <span>{{currentAlarm.time | date : 'HH : mm'}}</span>
            <img src="/images/bell.gif" class="alarmImg" />
            <audio controls autoplay>
                <source src="/images/Alarm-tone.mp3" type="audio/ogg">
            </audio>
        </div>
        <div class="row">
            <button type="button" class="btn btn-default" ng-click="closeAlarm(currentAlarm)" >Close</button>
        </div>
    </div>
    <div class="row">

        <div class="col-sm-4" style="background-color:lavender;">{{time | date:'HH:mm:ss'}}</div>
        <div class="col-sm-4" style="background-color:lavender;"> <button type="button" class="btn btn-info btn-lg" ng-click="openModal()">Set Alarm</button></div>

    </div>
    <div class="row">
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="alarm in allAlarms track by $index" ng-class="alarm.isShown?'active':''">{{alarm.time | date:'HH:mm'}} <span ng-click="deleteAlarm($index)">delete</span></li>

        </ul>
    </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
    <form name="setAlarmForm" ng-submit="saveAlarm()">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">I'm a modal!</h3>
    </div>
    <div class="modal-body" id="modal-body">
        <div uib-timepicker ng-model="$parent.alarmTime"  hour-step="1" minute-step="1" show-meridian="true"></div>
        <div class="checkbox">
            <label><input type="checkbox" value="" ng-model="isRecurring" ng-change="onSetRecurring(isRecurring)">Recurring</label>
        </div>
        <div class="checkbox-inline col-lg-4 col-md-4" ng-repeat="(key ,value) in weekdays" ng-show="isRecurring">
            <label class="col-sm-12 control-label">
                <input type="checkbox" class="custom-checkbox"
                       name="permission"
                       ng-click="setRecurringDay(key, value) "
                       ng-model="key"/>{{value}}</label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-default"  >Set alarm</button>
        <button type="button" class="btn btn-default" ng-click="closeModal()" >Close</button>
    </div>
    </form>
</script>

